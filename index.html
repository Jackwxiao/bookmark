<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./style.css">
    <title>我的导航网站</title>
</head>
<body>
      <header></header>
      <main>
          <div class="wrapper" id="mainxxx">

          </div>
      </main>
      <footer></footer>
      <script>
          
              var keys = {
                 '0':{0:'q',1:'w',2:'e',3:'r',4:'t',5:'y',6:'u',7:'i',8:'o',9:'p',length:10},
                 '1':{0:'a',1:'s',2:'d',3:'f',4:'g',5:'h',6:'j',7:'k',8:'l',length:9},
                 '2':{0:'z',1:'x',2:'c',3:'v',4:'b',5:'n',6:'m',length:7},
                 'length': 3
                }
                var hash ={'q': 'qq.com', 'w': 'weibo.com', 'e': 'ele.me', 'r': 'renren.com', 
                't': 'tianya.com', 'y': 'youtube.com', 'u': 'uc.com' , 'i': 'iqiyi.com', 'o': 'opera.com', 
                'p': undefined, 'a': 'acfun.tv', 's': 'sohu.com', 'z': 'zhihu.com', 'm': 'www.mcdonalds.com.cn'}
               
                //取出localStorage 中的zzz 的对应的hash  保证刷新页面不会重置设置过的内容
                hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')
                if(hashInLocalStorage){
                    hash = hashInLocalStorage
                }

                //遍历 keys,生成 kbd 标签
                index = 0
                while(index< keys['length']){
                    divxxx = document.createElement('div')
                    mainxxx.appendChild(divxxx)
                    row = keys[index]
                    index2  = 0
                    while(index2< row['length']){
                        kbdxxx = document.createElement('kbd')
            
                        kbdxxx.textContent = row[index2]
                        buttonx=document.createElement('button')
                        buttonx.textContent='编辑'
                        buttonx.id =row[index2]
                        buttonx.onclick = function(zxcvbnnm){
                            key = zxcvbnnm['target']['id']//q w e r
                            x = prompt('输入替换的网址')
                            hash[key] =x //hash变更
                            localStorage.setItem('zzz',JSON.stringify(hash))
                            console.log(hash)

                        }
                        kbdxxx.appendChild(buttonx)
                        divxxx.appendChild(kbdxxx)
                        index2= index2 + 1
                }
                index=index+1
                }

                document.onkeypress= function(zxcvbnm){
                    key = zxcvbnm['key']
                    website = hash[key]
                    window.open('http://'+website,'_blank')
                }
      
      </script>   
</body>
</html>